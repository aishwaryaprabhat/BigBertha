# templates/event-source.yaml
apiVersion: argoproj.io/v1alpha1
kind: EventSource
metadata:
  name: {{ .Values.eventsource.name }}
spec:
  service:
    name: {{ .Values.eventsource.service.name }}
    ports:
      port: {{ .Values.eventsource.service.port }}
      targetPort: {{ .Values.eventsource.service.targetPort }}
  webhook:
    {{ .Values.eventsource.webhook.triggerName }}:
      port: {{ .Values.eventsource.webhook.port }}
      endpoint: {{ .Values.eventsource.webhook.endpoint }}
      method: {{ .Values.eventsource.webhook.method }}
